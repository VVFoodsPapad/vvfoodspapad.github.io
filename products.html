<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products | VV Foods Papad</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <a href="index.html" class="logo">
            <img src="VVFoodsPapadlogo.png" alt="VV Foods Logo">
            <span>VV Foods</span>
        </a>
        <nav>
            <a href="index.html">Home</a>
            <a href="products.html" class="active">Products</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2>Our Products</h2>
            <p>Discover our range of handcrafted appalams.</p>
        </section>

        <section>
            <h2>Our Appalams</h2>
            <div class="products-grid">
                <div class="product-card">
                    <div class="product-image">
                        <img src="Uraddal.png" alt="Urad Dal Appalam">
                    </div>
                    <h3>Urad Dal Appalam</h3>
                    <p>Our most famoust appalam made from premium urad dal. This is perfectly crispy and complements any meal including rice, dal, and curries.</p>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="Cumin.png" alt="Cumin Appalam">
                    </div>
                    <h3>Cumin Appalam</h3>
                    <p>An appalam filled with cumin seeds. Perfect for people who need appalams with a taste of spice.</p>
                </div>
                <div class="product-card">
                    <div class="product-image">
                        <img src="Blackpepper.png" alt="Black Pepper Appalam">
                    </div>
                    <h3>Black Pepper Appalam</h3>
                    <p>Ground black pepper for a subtle spice experience.</p>
                </div>
            </div>
        </section>

        <section class="bulk-orders-section">
            <h2>Bulk Orders</h2>
            <p>We offer bulk orders for restaurants, catering businesses, and retailers. Minimum order: 1 kg per variety.</p>
            <p style="margin-top: 1.5rem;">
                <button class="bulk-order-btn" onclick="openOrderModal()">
                    <span class="btn-icon">ðŸ›’</span>
                    Place Bulk Order
                </button>
            </p>
        </section>
    </main>

    <!-- Order Modal -->
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeOrderModal()">&times;</span>
            <h2>Place Bulk Order</h2>
            <p class="modal-subtitle">Select your appalams, sizes, and quantities (in kg). Click + to add multiple sizes.</p>

            <form id="orderForm" action="https://formsubmit.co/veera17179@gmail.com" method="POST">
                <input type="hidden" name="_subject" value="New Bulk Order from VV Foods Website">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_next" value="https://vvfoodspapad.com/products.html?success=true">
                <input type="hidden" name="order_summary" id="orderSummaryInput">

                <!-- Urad Dal Plain -->
                <div class="order-item" data-type="plain">
                    <div class="order-item-header">
                        <h3>Urad Dal Plain</h3>
                        <button type="button" class="add-size-btn" onclick="addSizeRow('plain')">+ Add Size</button>
                    </div>
                    <div class="size-rows" id="plain_rows">
                        <div class="order-row">
                            <div class="order-field">
                                <label>Size</label>
                                <select onchange="calculateTotal()">
                                    <option value="">Select Size</option>
                                    <option value="4in">4 IN (â‚¹350/kg, ~210-220 pcs)</option>
                                    <option value="4.5in">4.5 IN (â‚¹350/kg, ~175-180 pcs)</option>
                                    <option value="5in">5 IN (â‚¹350/kg, ~130 pcs)</option>
                                    <option value="6in">6 IN (â‚¹330/kg, ~80-85 pcs)</option>
                                </select>
                            </div>
                            <div class="order-field">
                                <label>Quantity (kg)</label>
                                <input type="number" min="0" step="0.5" value="0" onchange="calculateTotal()">
                            </div>
                            <div class="order-field subtotal-field">
                                <label>Subtotal</label>
                                <span class="subtotal">â‚¹0</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-total">Item Total: <span id="plain_total">â‚¹0</span></div>
                </div>

                <!-- Urad Dal Black Pepper -->
                <div class="order-item" data-type="pepper">
                    <div class="order-item-header">
                        <h3>Urad Dal Black Pepper</h3>
                        <button type="button" class="add-size-btn" onclick="addSizeRow('pepper')">+ Add Size</button>
                    </div>
                    <div class="size-rows" id="pepper_rows">
                        <div class="order-row">
                            <div class="order-field">
                                <label>Size</label>
                                <select onchange="calculateTotal()">
                                    <option value="">Select Size</option>
                                    <option value="4in">4 IN (â‚¹380/kg, ~210-220 pcs)</option>
                                    <option value="4.5in">4.5 IN (â‚¹380/kg, ~175-180 pcs)</option>
                                    <option value="5in">5 IN (â‚¹380/kg, ~130 pcs)</option>
                                    <option value="6in">6 IN (â‚¹350/kg, ~80-85 pcs)</option>
                                </select>
                            </div>
                            <div class="order-field">
                                <label>Quantity (kg)</label>
                                <input type="number" min="0" step="0.5" value="0" onchange="calculateTotal()">
                            </div>
                            <div class="order-field subtotal-field">
                                <label>Subtotal</label>
                                <span class="subtotal">â‚¹0</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-total">Item Total: <span id="pepper_total">â‚¹0</span></div>
                </div>

                <!-- Urad Dal Cumin -->
                <div class="order-item" data-type="cumin">
                    <div class="order-item-header">
                        <h3>Urad Dal Cumin</h3>
                        <button type="button" class="add-size-btn" onclick="addSizeRow('cumin')">+ Add Size</button>
                    </div>
                    <div class="size-rows" id="cumin_rows">
                        <div class="order-row">
                            <div class="order-field">
                                <label>Size</label>
                                <select onchange="calculateTotal()">
                                    <option value="">Select Size</option>
                                    <option value="4in">4 IN (â‚¹375/kg, ~210-220 pcs)</option>
                                    <option value="4.5in">4.5 IN (â‚¹375/kg, ~175-180 pcs)</option>
                                    <option value="5in">5 IN (â‚¹375/kg, ~130 pcs)</option>
                                    <option value="6in">6 IN (â‚¹345/kg, ~80-85 pcs)</option>
                                </select>
                            </div>
                            <div class="order-field">
                                <label>Quantity (kg)</label>
                                <input type="number" min="0" step="0.5" value="0" onchange="calculateTotal()">
                            </div>
                            <div class="order-field subtotal-field">
                                <label>Subtotal</label>
                                <span class="subtotal">â‚¹0</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-total">Item Total: <span id="cumin_total">â‚¹0</span></div>
                </div>

                <div class="order-total">
                    <h3>Grand Total: <span id="grandTotal">â‚¹0</span></h3>
                </div>

                <div class="order-contact">
                    <div class="order-field">
                        <label>Your Name *</label>
                        <input type="text" name="customer_name" required>
                    </div>
                    <div class="order-field">
                        <label>Phone Number *</label>
                        <input type="tel" name="customer_phone" required>
                    </div>
                    <div class="order-field">
                        <label>Email</label>
                        <input type="email" name="customer_email">
                    </div>
                    <div class="order-field full-width">
                        <label>Delivery Address *</label>
                        <textarea name="customer_address" rows="2" required></textarea>
                    </div>
                </div>

                <button type="submit" class="checkout-btn" id="checkoutBtn" disabled>Proceed to Checkout (â‚¹0)</button>
            </form>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 VV Foods Papad. All rights reserved.</p>
    </footer>

    <script>
        const prices = {
            plain: { '4in': 350, '4.5in': 350, '5in': 350, '6in': 330 },
            pepper: { '4in': 380, '4.5in': 380, '5in': 380, '6in': 350 },
            cumin: { '4in': 375, '4.5in': 375, '5in': 375, '6in': 345 }
        };

        const sizeOptions = {
            plain: `<option value="">Select Size</option>
                    <option value="4in">4 IN (â‚¹350/kg, ~210-220 pcs)</option>
                    <option value="4.5in">4.5 IN (â‚¹350/kg, ~175-180 pcs)</option>
                    <option value="5in">5 IN (â‚¹350/kg, ~130 pcs)</option>
                    <option value="6in">6 IN (â‚¹330/kg, ~80-85 pcs)</option>`,
            pepper: `<option value="">Select Size</option>
                    <option value="4in">4 IN (â‚¹380/kg, ~210-220 pcs)</option>
                    <option value="4.5in">4.5 IN (â‚¹380/kg, ~175-180 pcs)</option>
                    <option value="5in">5 IN (â‚¹380/kg, ~130 pcs)</option>
                    <option value="6in">6 IN (â‚¹350/kg, ~80-85 pcs)</option>`,
            cumin: `<option value="">Select Size</option>
                    <option value="4in">4 IN (â‚¹375/kg, ~210-220 pcs)</option>
                    <option value="4.5in">4.5 IN (â‚¹375/kg, ~175-180 pcs)</option>
                    <option value="5in">5 IN (â‚¹375/kg, ~130 pcs)</option>
                    <option value="6in">6 IN (â‚¹345/kg, ~80-85 pcs)</option>`
        };

        function addSizeRow(type) {
            const container = document.getElementById(`${type}_rows`);
            const newRow = document.createElement('div');
            newRow.className = 'order-row';
            newRow.innerHTML = `
                <div class="order-field">
                    <label>Size</label>
                    <select onchange="calculateTotal()">${sizeOptions[type]}</select>
                </div>
                <div class="order-field">
                    <label>Quantity (kg)</label>
                    <input type="number" min="0" step="0.5" value="0" onchange="calculateTotal()">
                </div>
                <div class="order-field subtotal-field">
                    <label>Subtotal</label>
                    <span class="subtotal">â‚¹0</span>
                </div>
                <button type="button" class="remove-row-btn" onclick="removeRow(this)">Ã—</button>
            `;
            container.appendChild(newRow);
        }

        function removeRow(btn) {
            btn.parentElement.remove();
            calculateTotal();
        }

        function calculateTotal() {
            let grandTotal = 0;
            let orderSummary = [];

            ['plain', 'pepper', 'cumin'].forEach(type => {
                const container = document.getElementById(`${type}_rows`);
                const rows = container.querySelectorAll('.order-row');
                let itemTotal = 0;
                const typeName = type === 'plain' ? 'Urad Dal Plain' : type === 'pepper' ? 'Urad Dal Black Pepper' : 'Urad Dal Cumin';

                rows.forEach(row => {
                    const size = row.querySelector('select').value;
                    const qty = parseFloat(row.querySelector('input').value) || 0;
                    const subtotalSpan = row.querySelector('.subtotal');
                    let subtotal = 0;

                    if (size && qty > 0) {
                        subtotal = prices[type][size] * qty;
                        orderSummary.push(`${typeName} (${size.toUpperCase()}): ${qty}kg x â‚¹${prices[type][size]} = â‚¹${subtotal}`);
                    }

                    subtotalSpan.textContent = `â‚¹${subtotal}`;
                    itemTotal += subtotal;
                });

                document.getElementById(`${type}_total`).textContent = `â‚¹${itemTotal}`;
                grandTotal += itemTotal;
            });

            document.getElementById('grandTotal').textContent = `â‚¹${grandTotal}`;
            document.getElementById('checkoutBtn').textContent = `Proceed to Checkout (â‚¹${grandTotal})`;
            document.getElementById('checkoutBtn').disabled = grandTotal === 0;
            document.getElementById('orderSummaryInput').value = orderSummary.join(' | ') + ` | TOTAL: â‚¹${grandTotal}`;
        }

        function openOrderModal() {
            document.getElementById('orderModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeOrderModal() {
            document.getElementById('orderModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('orderModal');
            if (event.target === modal) {
                closeOrderModal();
            }
        }

        // Check for success parameter
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('success') === 'true') {
            alert('Thank you for your order! We will contact you shortly to confirm and arrange payment.');
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    </script>
</body>
</html>

